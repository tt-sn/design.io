<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<script type="text/javascript" src="https://tama.tok.access-company.com/public/publis/nfbr/tmp/sasaki/master/lib/jquery-1.8.0.custom.js"></script>
<title>End of book</title>
</head>
<body>
	<div id="paramField">
		<div id='testString'>巻末iframeテスト</div>
	</div>
	<div id="closeViewer"><button>(iframe)ビューワを閉じる</button></div>

<a href="#" id="closeViewer">ビューワーを閉じる</a>
<script type="text/javascript">
    var handleEvent = function () {
      try {
        document.referrer.postMessage({action: 'closeViewer'}, '*');
      } catch (e) {
      }
      try {
        parent.window.postMessage({action: 'closeViewer'}, '*');
      } catch (e) {
      }
      return false;
    };
    var closeViewerButton = document.getElementById('closeViewer');
    closeViewerButton.addEventListener('touchstart', handleEvent);
    closeViewerButton.addEventListener('click', handleEvent);
</script>
</body>
</html>
